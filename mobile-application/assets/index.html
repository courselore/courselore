<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module">
      import { Browser } from "@capacitor/browser";
      import { Storage } from '@capacitor/storage';
      window.Browser = Browser;
    </script>
  </head>
  <body>
    <p>
      <br />
      <br />
      Welcome!
      <br />
      <br />
      Thank you for installing the Courselore app. In order to set up the app, please select what kind of Courselore installation you plan to access.
      <br />
      <br />
      <button class="button-1">Hosted by Courselore</button>
      <br />
      <button onclick="document.querySelector('div').hidden = false">Self hosted</button>
      <div hidden>
        <input type="email" placeholder="Type the full address here">
        <button class="button-2">Submit</button>
      </div>
      <script>
        document.querySelector('.button-1').onclick = () => {
          const href = 'https://www.courselore.org';
          async () => {
            await Storage.set({
              key: 'selection',
              value: href,
            });
          };
          window.location.href = href;
        };
        document.querySelector('.button-2').onclick = () => {
          const href = document.querySelector('input').value;
          async () => {
            await Storage.set({
              key: 'selection',
              value: href,
            });
          };
          window.location.href = href;
        };
      </script>
    </p>
  </body>
</html>
